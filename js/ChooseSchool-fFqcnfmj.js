import{_ as i}from"./location-DdOy27Nh.js";import{S as m,a2 as d,_ as h}from"./common-V1XQDnxK.js";import{u as k}from"./other-B3PpYq4c.js";import"./vendor-Bl_YTWCJ.js";const p={class:"choose-school"},N={class:"content"},B={key:0,class:"nearby"},y=["onClick"],_={key:1,class:"item"},v={key:1,class:"schools"},E=["onClick"],S={key:2},f=["onClick"],g={key:0},C={style:{color:"#f50"}},b={key:1},x={key:1,class:"empty"},D=Vue.defineComponent({name:"ChooseSchool",__name:"ChooseSchool",setup($){const a=VueRouter.useRouter(),c=k(),e=Vue.reactive({isSearch:!1,nearby:[],schools:[],searchSchools:[],schoolName:""});Vue.onMounted(()=>{for(let l=0;l<20;l++)e.nearby.push("附近大学"+l),e.schools.push("所有大学"+l)});function n(l){localStorage.setItem("changeSchool",l),a.back()}function u(){if(!e.schoolName.length)return e.isSearch=!1;e.isSearch=!0;let l=e.nearby.concat(e.schools);e.searchSchools=l.filter(o=>o.includes(e.schoolName))}return(l,o)=>{const V=Vue.resolveComponent("BaseHeader");return Vue.openBlock(),Vue.createElementBlock("div",p,[Vue.createVNode(V,null,{center:Vue.withCtx(()=>o[4]||(o[4]=[Vue.createElementVNode("span",{class:"f16"},"添加学校",-1)])),right:Vue.withCtx(()=>[Vue.createElementVNode("span",{class:"f14",onClick:o[0]||(o[0]=t=>Vue.unref(c)("/me/declare-school",{type:1}))},"没有找到?")]),bottom:Vue.withCtx(()=>[Vue.createVNode(m,{class:"mt1r mb1r ml2r mr2r",placeholder:"搜索大学名称",modelValue:e.schoolName,"onUpdate:modelValue":o[1]||(o[1]=t=>e.schoolName=t),onClear:o[2]||(o[2]=t=>e.isSearch=!1),"is-show-right-text":!0,onNotice:u},null,8,["modelValue"])]),_:1}),Vue.createElementVNode("div",N,[e.isSearch?Vue.createCommentVNode("",!0):(Vue.openBlock(),Vue.createElementBlock("div",B,[o[5]||(o[5]=Vue.createElementVNode("div",{class:"title"},[Vue.createElementVNode("img",{src:i,alt:""}),Vue.createElementVNode("span",null,"离我最近")],-1)),e.nearby.length?(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,{key:0},Vue.renderList(e.nearby,(t,s)=>(Vue.openBlock(),Vue.createElementBlock("div",{class:"item",key:s,onClick:r=>n(t)},Vue.toDisplayString(t),9,y))),128)):(Vue.openBlock(),Vue.createElementBlock("div",_,"无法获取"))])),o[9]||(o[9]=Vue.createElementVNode("div",{class:"line",style:{width:"calc(100% - 40rem)","margin-left":"20rem"}},null,-1)),e.isSearch?Vue.createCommentVNode("",!0):(Vue.openBlock(),Vue.createElementBlock("div",v,[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(e.schools,(t,s)=>(Vue.openBlock(),Vue.createElementBlock("div",{class:"item",key:s,onClick:r=>n(t)},Vue.toDisplayString(t),9,E))),128))])),e.isSearch?(Vue.openBlock(),Vue.createElementBlock("div",S,[e.searchSchools.length?(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,{key:0},Vue.renderList(e.searchSchools,(t,s)=>(Vue.openBlock(),Vue.createElementBlock("div",{class:"item",key:s,onClick:r=>n(t)},[t.indexOf(e.schoolName)>-1?(Vue.openBlock(),Vue.createElementBlock("span",g,[Vue.createTextVNode(Vue.toDisplayString(t.substr(0,t.indexOf(e.schoolName)))+" ",1),Vue.createElementVNode("span",C,Vue.toDisplayString(e.schoolName),1),Vue.createTextVNode(" "+Vue.toDisplayString(t.substr(t.indexOf(e.schoolName)+e.schoolName.length)),1)])):(Vue.openBlock(),Vue.createElementBlock("span",b,Vue.toDisplayString(t),1))],8,f))),128)):(Vue.openBlock(),Vue.createElementBlock("div",x,[o[6]||(o[6]=Vue.createElementVNode("img",{src:d,alt:""},null,-1)),o[7]||(o[7]=Vue.createElementVNode("div",{class:"title"},"搜索结果为空",-1)),o[8]||(o[8]=Vue.createElementVNode("div",{class:"sub-title"},"没有搜索到相关的内容",-1)),Vue.createElementVNode("div",{class:"btn",onClick:o[3]||(o[3]=t=>Vue.unref(c)("/me/declare-school"))},"没有学校信息？去申报")]))])):Vue.createCommentVNode("",!0)])])}}}),H=h(D,[["__scopeId","data-v-7c152760"]]);export{H as default};
