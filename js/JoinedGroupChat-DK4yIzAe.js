import{as as V,C as p,g as m,_}from"./common-B2Q_mKBS.js";import"./vendor-CjFJgEVW.js";const f={class:"Share2Friend"},h={class:"content"},g={class:"list"},k=["onClick"],v=["src"],C={class:"desc"},N={class:"name"},E=Vue.defineComponent({name:"JoinedGroupChat",__name:"JoinedGroupChat",setup(F){const r=VueRouter.useRouter(),e=Vue.reactive({friends:{all:{},recent:[],eachOther:[]},selectFriends:[]});Vue.onMounted(()=>{d()});function a(){e.selectFriends.length&&r.back()}function c(t){let n=e.selectFriends.findIndex(o=>o.name===t.name);n!==-1?(t.select=!1,e.selectFriends.splice(n,1)):(t.select=!0,e.selectFriends.push(t))}async function d(){let t=await V();t.success&&(e.friends=t.data,e.friends.all=e.friends.all.sort((n,o)=>n.pinyin<o.pinyin?-1:n.pinyin>o.pinyin?1:0))}return(t,n)=>{const o=Vue.resolveComponent("BaseHeader"),u=Vue.resolveComponent("NoMore");return Vue.openBlock(),Vue.createElementBlock("div",f,[Vue.createVNode(o,{backMode:"light",backImg:"back",style:{"z-index":"7"}},{center:Vue.withCtx(()=>n[0]||(n[0]=[Vue.createElementVNode("span",{class:"f16"},"已加入的群聊",-1)])),right:Vue.withCtx(()=>[Vue.createElementVNode("div",null,[Vue.createElementVNode("span",{class:Vue.normalizeClass(["f16",e.selectFriends.length?"save-yes":"save-no"]),onClick:a}," 完成"+Vue.toDisplayString(e.selectFriends.length?`(${e.selectFriends.length})`:""),3)])]),_:1}),Vue.createElementVNode("div",h,[Vue.createElementVNode("div",g,[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(e.friends.all,(s,i)=>(Vue.openBlock(),Vue.createElementBlock("div",{class:"local-row",key:i,onClick:l=>c(s)},[Vue.createVNode(p,{mode:"red",modelValue:s.select,"onUpdate:modelValue":l=>s.select=l},null,8,["modelValue","onUpdate:modelValue"]),Vue.createElementVNode("img",{src:Vue.unref(m)(s.avatar),alt:""},null,8,v),Vue.createElementVNode("div",C,[Vue.createElementVNode("span",N,Vue.toDisplayString(s.name.length>20?s.name.substr(0,20)+"...":s.name),1),n[1]||(n[1]=Vue.createElementVNode("span",{class:"num"},"(3)",-1))])],8,k))),128))]),Vue.createVNode(u)])])}}}),B=_(E,[["__scopeId","data-v-a9f70d75"]]);export{B as default};
